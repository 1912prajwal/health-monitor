<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ESP32 Health Monitor - Live Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
    margin:0;
    background:linear-gradient(135deg,#0a0f24,#0e1b47,#062d4f);
    font-family: 'Segoe UI', sans-serif;
    color:white;
    text-align:center;
    padding:20px;
}

.header {
    margin:20px auto;
    max-width:900px;
}

h1{
    font-size:2.5rem;
    text-shadow:0 0 15px rgba(0,255,255,0.6);
    margin-bottom:10px;
}

.subtitle {
    color:#bcd4f6;
    font-size:1.1rem;
    margin-bottom:5px;
}

.status-bar {
    display:inline-block;
    background:rgba(0,255,0,0.2);
    padding:8px 20px;
    border-radius:20px;
    margin:10px 5px;
    border:1px solid rgba(0,255,0,0.4);
    animation:pulse 2s infinite;
}

.status-dot {
    display:inline-block;
    width:10px;
    height:10px;
    background:#00ff00;
    border-radius:50%;
    margin-right:8px;
    animation:blink 1s infinite;
}

@keyframes blink {
    0%, 100% { opacity:1; }
    50% { opacity:0.3; }
}

@keyframes pulse {
    0%, 100% { box-shadow:0 0 5px rgba(0,255,0,0.5); }
    50% { box-shadow:0 0 20px rgba(0,255,0,0.8); }
}

.grid{
    margin:20px auto;
    max-width:1000px;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px;
}

.card{
    padding:25px;
    background:rgba(255,255,255,0.08);
    border-radius:18px;
    backdrop-filter:blur(10px);
    box-shadow:0 0 18px rgba(0,255,255,0.3), inset 0 0 20px rgba(255,255,255,0.1);
    transition:0.3s;
    border:1px solid rgba(0,255,255,0.2);
    position:relative;
    overflow:hidden;
}

.card:hover{
    transform:translateY(-5px);
    box-shadow:0 0 30px rgba(0,255,255,0.7);
}

.card:before {
    content:'';
    position:absolute;
    top:-50%;
    left:-50%;
    width:200%;
    height:200%;
    background:linear-gradient(45deg, transparent, rgba(0,255,255,0.1), transparent);
    animation:shine 3s infinite;
}

@keyframes shine {
    0% { transform:rotate(0deg); }
    100% { transform:rotate(360deg); }
}

.icon {
    font-size:2.5rem;
    margin-bottom:10px;
}

.label{
    font-size:0.95rem;
    color:#bcd4f6;
    margin-bottom:10px;
}

.value{
    font-size:2.8rem;
    margin-top:10px;
    text-shadow:0 0 20px rgba(0,255,255,0.6);
    font-weight:bold;
}

.unit {
    font-size:1.2rem;
    color:#88ccff;
}

.raw-data {
    font-size:1rem;
    margin-top:5px;
    color:#9db2d4;
}

.warning {
    background:rgba(255,100,0,0.15);
    border:1px solid rgba(255,100,0,0.4);
}

.normal {
    background:rgba(0,255,0,0.1);
    border:1px solid rgba(0,255,0,0.3);
}

.chart-container {
    margin:30px auto;
    max-width:900px;
    background:rgba(255,255,255,0.08);
    border-radius:18px;
    padding:20px;
    backdrop-filter:blur(10px);
    border:1px solid rgba(0,255,255,0.2);
}

.mini-chart {
    height:60px;
    display:flex;
    align-items:flex-end;
    gap:2px;
    margin-top:10px;
    justify-content:center;
}

.bar {
    width:8px;
    background:linear-gradient(to top, #00ffff, #0088ff);
    border-radius:2px 2px 0 0;
    transition:height 0.3s ease;
}

.footer{
    margin-top:30px;
    color:#9db2d4;
    font-size:0.9rem;
}

.timestamp {
    background:rgba(0,0,0,0.3);
    padding:10px 20px;
    border-radius:10px;
    display:inline-block;
    margin:20px auto;
    color:#88ccff;
}

@media (max-width: 768px) {
    h1 { font-size:1.8rem; }
    .value { font-size:2.2rem; }
}
</style>

</head>

<body>

<div class="header">
    <h1>üå°Ô∏è ESP32 Health Monitoring Dashboard</h1>
    <p class="subtitle">Real-time Vital Signs & Environmental Data</p>
    <div class="status-bar">
        <span class="status-dot"></span>
        <span>System Online ‚Ä¢ Sensors Active</span>
    </div>
    <div class="timestamp" id="timestamp">Loading...</div>
</div>

<div class="grid">

    <div class="card" id="bodyTempCard">
        <div class="icon">üå°Ô∏è</div>
        <div class="label">Body Temperature</div>
        <div class="value" id="bodyTemp">36.5<span class="unit">¬∞C</span></div>
        <div class="mini-chart" id="bodyTempChart"></div>
    </div>

    <div class="card">
        <div class="icon">üè†</div>
        <div class="label">Room Temperature</div>
        <div class="value" id="roomTemp">24.8<span class="unit">¬∞C</span></div>
        <div class="mini-chart" id="roomTempChart"></div>
    </div>

    <div class="card">
        <div class="icon">üíß</div>
        <div class="label">Humidity</div>
        <div class="value" id="humidity">62<span class="unit">%</span></div>
        <div class="mini-chart" id="humidityChart"></div>
    </div>

    <div class="card" id="bpmCard">
        <div class="icon">‚ù§Ô∏è</div>
        <div class="label">Heart Rate (BPM)</div>
        <div class="value" id="bpm">78<span class="unit">BPM</span></div>
        <div class="mini-chart" id="bpmChart"></div>
    </div>

    <div class="card" id="spo2Card">
        <div class="icon">üí®</div>
        <div class="label">Blood Oxygen (SpO‚ÇÇ)</div>
        <div class="value" id="spo2">98<span class="unit">%</span></div>
        <div class="mini-chart" id="spo2Chart"></div>
    </div>

    <div class="card">
        <div class="icon">üì°</div>
        <div class="label">Sensor Data (IR / RED)</div>
        <div class="value" style="font-size:1.3rem;">
            <div class="raw-data">IR: <span id="ir">87432</span></div>
            <div class="raw-data">RED: <span id="red">45621</span></div>
        </div>
    </div>

</div>

<p class="footer">üîÑ Data updates every second ‚Ä¢ Simulated real-time monitoring</p>

<script>
// Initialize chart bars
function initChart(containerId, count = 15) {
    const container = document.getElementById(containerId);
    for (let i = 0; i < count; i++) {
        const bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.height = Math.random() * 60 + 20 + 'px';
        container.appendChild(bar);
    }
}

// Update chart animation
function updateChart(containerId, newValue, maxValue) {
    const container = document.getElementById(containerId);
    const bars = container.querySelectorAll('.bar');
    
    // Shift existing bars
    for (let i = 0; i < bars.length - 1; i++) {
        bars[i].style.height = bars[i + 1].style.height;
    }
    
    // Add new bar
    const percentage = (newValue / maxValue) * 60;
    bars[bars.length - 1].style.height = percentage + 'px';
}

// Initialize all charts
initChart('bodyTempChart', 20);
initChart('roomTempChart', 20);
initChart('humidityChart', 20);
initChart('bpmChart', 20);
initChart('spo2Chart', 20);

// Simulate realistic sensor data
function updateData() {
    // Body Temperature (36-37.5¬∞C)
    const bodyTemp = (36 + Math.random() * 1.5).toFixed(1);
    document.getElementById('bodyTemp').innerHTML = bodyTemp + '<span class="unit">¬∞C</span>';
    updateChart('bodyTempChart', parseFloat(bodyTemp), 40);
    
    // Check body temp status
    const bodyTempCard = document.getElementById('bodyTempCard');
    if (parseFloat(bodyTemp) > 37.2) {
        bodyTempCard.classList.add('warning');
        bodyTempCard.classList.remove('normal');
    } else {
        bodyTempCard.classList.add('normal');
        bodyTempCard.classList.remove('warning');
    }

    // Room Temperature (22-27¬∞C)
    const roomTemp = (23 + Math.random() * 4).toFixed(1);
    document.getElementById('roomTemp').innerHTML = roomTemp + '<span class="unit">¬∞C</span>';
    updateChart('roomTempChart', parseFloat(roomTemp), 35);

    // Humidity (50-70%)
    const humidity = Math.floor(55 + Math.random() * 15);
    document.getElementById('humidity').innerHTML = humidity + '<span class="unit">%</span>';
    updateChart('humidityChart', humidity, 100);

    // Heart Rate (75-100 BPM)
    const bpm = Math.floor(75 + Math.random() * 25);
    document.getElementById('bpm').innerHTML = bpm + '<span class="unit">BPM</span>';
    updateChart('bpmChart', bpm, 120);
    
    // Check BPM status
    const bpmCard = document.getElementById('bpmCard');
    if (bpm < 60 || bpm > 100) {
        bpmCard.classList.add('warning');
        bpmCard.classList.remove('normal');
    } else {
        bpmCard.classList.add('normal');
        bpmCard.classList.remove('warning');
    }

    // SpO2 (95-100%)
    const spo2 = Math.floor(95 + Math.random() * 5);
    document.getElementById('spo2').innerHTML = spo2 + '<span class="unit">%</span>';
    updateChart('spo2Chart', spo2, 100);
    
    // Check SpO2 status
    const spo2Card = document.getElementById('spo2Card');
    if (spo2 < 95) {
        spo2Card.classList.add('warning');
        spo2Card.classList.remove('normal');
    } else {
        spo2Card.classList.add('normal');
        spo2Card.classList.remove('warning');
    }

    // Raw IR/RED values
    const ir = Math.floor(80000 + Math.random() * 20000);
    const red = Math.floor(40000 + Math.random() * 15000);
    document.getElementById('ir').textContent = ir;
    document.getElementById('red').textContent = red;

    // Update timestamp
    const now = new Date();
    const timeStr = now.toLocaleTimeString('en-US', { 
        hour12: true, 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit' 
    });
    document.getElementById('timestamp').textContent = 'üïê Last Updated: ' + timeStr;
}

// Update every second
setInterval(updateData, 1000);
updateData();
</script>

</body>
</html>
